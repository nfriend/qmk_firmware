#include QMK_KEYBOARD_H
#include "version.h"
#include "keymap_german.h"
#include "keymap_nordic.h"
#include "keymap_french.h"
#include "keymap_spanish.h"
#include "keymap_hungarian.h"

#define KC_MAC_UNDO LGUI(KC_Z)
#define KC_MAC_CUT LGUI(KC_X)
#define KC_MAC_COPY LGUI(KC_C)
#define KC_MAC_PASTE LGUI(KC_V)
#define KC_PC_UNDO LCTL(KC_Z)
#define KC_PC_CUT LCTL(KC_X)
#define KC_PC_COPY LCTL(KC_C)
#define KC_PC_PASTE LCTL(KC_V)
#define ___ KC_TRNS

// shortcut for Magnet key = Option+Ctrl
#define MG(keycode) LALT(LCTL(keycode))

// base layers
#define COLEMAK 0
#define QWERTY 1
#define DVORAK 2

// keys the base layers share
#define COMMON 3

// OS layers
#define MAC 4
#define WINDOWS 5

// symbols
#define NUMPAD 6
#define SYMBOLS 7

// window management
#define WM_MAC 8
#define WM_WINDOWS 9

// navigation
#define ARROWS_MAC 10
#define ARROWS_WINDOWS 11

// macros layer
// note: MACROS is already defined 
#define MACROS_LAYER 12

// misc
#define MISC 13

enum custom_keycodes {
  RGB_SLD = SAFE_RANGE, // can always be here
  EPRM,
  HSV_0_255_255,
  HSV_120_255_128,
  HSV_240_255_255,
  MAC_MODE,
  WINDOWS_MODE,
  DYNAMIC_MACRO_RANGE, // This needs to be last!
};
#include "dynamic_macro.h"

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [COLEMAK] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/   RESET,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_Q,   /**/   KC_W,   /**/   KC_F,   /**/   KC_P,   /**/   KC_G,   /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_A,   /**/   KC_R,   /**/   KC_S,   /**/   KC_T,   /**/   KC_D,   /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_Z,   /**/   KC_X,   /**/   KC_C,   /**/   KC_V,   /**/   KC_B,   /**/DF(QWERTY),/**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_J,   /**/   KC_L,   /**/   KC_U,   /**/   KC_Y,   /**/ KC_SCOLON,/**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/   KC_H,   /**/   KC_N,   /**/   KC_E,   /**/   KC_I,   /**/   KC_O,   /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_K,   /**/   KC_M,   /**/ KC_COMMA, /**/  KC_DOT,  /**/ KC_SLASH, /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [QWERTY] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/   RESET,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_Q,   /**/   KC_W,   /**/   KC_E,   /**/   KC_R,   /**/   KC_T,   /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_A,   /**/   KC_S,   /**/   KC_D,   /**/   KC_F,   /**/   KC_G,   /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_Z,   /**/   KC_X,   /**/   KC_C,   /**/   KC_V,   /**/   KC_B,   /**/DF(DVORAK),/**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_Y,   /**/   KC_U,   /**/   KC_I,   /**/   KC_O,   /**/   KC_P,   /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/   KC_H,   /**/   KC_J,   /**/   KC_K,   /**/   KC_L,   /**/ KC_SCOLON,/**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_N,   /**/   KC_M,   /**/ KC_COMMA, /**/  KC_DOT,  /**/ KC_SLASH, /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [DVORAK] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/   RESET,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ KC_QUOTE, /**/ KC_COMMA, /**/  KC_DOT,  /**/   KC_P,   /**/   KC_Y,   /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_A,   /**/   KC_O,   /**/   KC_E,   /**/   KC_U,   /**/   KC_I,   /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ KC_SCOLON,/**/   KC_Q,   /**/   KC_J,   /**/   KC_K,   /**/   KC_X,   /**/DF(COLEMAK),/**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_F,   /**/   KC_G,   /**/   KC_C,   /**/   KC_R,   /**/   KC_L,   /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/   KC_D,   /**/   KC_H,   /**/   KC_T,   /**/   KC_N,   /**/   KC_S,   /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_B,   /**/   KC_M,   /**/   KC_W,   /**/   KC_V,   /**/   KC_Z,   /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [COMMON] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ KC_ESCAPE,/**/   KC_1,   /**/   KC_2,   /**/   KC_3,   /**/   KC_4,   /**/   KC_5,   /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/LSFT(KC_TAB),//
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/OSL(SYMBOLS),   _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/OSM(MOD_LSFT),  _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/LT(NUMPAD,KC_TAB),
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ KC_ESCAPE,/**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ KC_AUDIO_VOL_DOWN,
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ KC_BSPACE,/**/ KC_ENTER, /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/   KC_6,   /**/   KC_7,   /**/   KC_8,   /**/   KC_9,   /**/   KC_0,   /**/  KC_F12,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
               RSFT(KC_GRAVE), /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ KC_BSLASH,/**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/OSL(SYMBOLS),//
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ KC_GRAVE, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/OSM(MOD_LSFT),//
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/TT(MISC),
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
      /*==============================*/
      /**/           /**/           /**/
      /**/ _______,  /**/ KC_ESCAPE,/**/
      /**/           /**/           /**/
      /*=============================================*/
      /**/           /**/           /**/           /**/
     KC_AUDIO_VOL_UP,/**/           /**/           /**/
      /**/           /**/           /**/           /**/
      /*===============*/           /**/           /**/
      /**/           /**/           /**/           /**/
    MO(MACROS_LAYER),/**/ KC_ENTER, /**/  KC_SPACE /**/
      /**/           /**/           /**/           /**/
      /*=============================================*/
  ),

  [MAC] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/LCTL(LGUI(LSFT(KC_4))),
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
   LALT(KC_BSPACE),/**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
          KC_LCTRL,/**/ KC_LGUI,  /**/  KC_LALT, /**/MO(WM_MAC),/**/MO(ARROWS_MAC),
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/LCTL(LGUI(KC_Q)),
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ KC_LGUI,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
              RGUI(RSFT(KC_7)),/**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              MO(ARROWS_MAC),/**/MO(WM_MAC),/**/ KC_LALT,  /**/ KC_LGUI,  /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
      /*==============================*/
      /**/           /**/           /**/
    LCTL(LGUI(KC_Q)),/**/ _______,  /**/
      /**/           /**/           /**/
      /*=============================================*/
      /**/           /**/           /**/           /**/
      /**/ _______,  /**/           /**/           /**/
      /**/           /**/           /**/           /**/
      /*===============*/           /**/           /**/
      /**/           /**/           /**/           /**/
      /**/ _______,  /**/ _______,  /**/ _______   /**/
      /**/           /**/           /**/           /**/
      /*=============================================*/
  ),

  [WINDOWS] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/LGUI(LSFT(KC_S)),
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
   LCTL(KC_BSPACE),/**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
          KC_LGUI, /**/ KC_LCTRL, /**/  KC_LALT,   MO(WM_WINDOWS),  MO(ARROWS_WINDOWS),
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/LGUI(KC_L),/**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ KC_LCTRL, /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
              LALT(KC_PSCREEN),/**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                          MO(ARROWS_WINDOWS),  MO(WM_WINDOWS),   KC_LALT,  /**/ KC_LCTRL, /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/LGUI(KC_L),/**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [NUMPAD] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ XXXXXXX,  /**/ KC_ESCAPE, LALT(KC_KP_MINUS),  KC_PERC, /**/KC_KP_SLASH,    _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ XXXXXXX,  /**/ KC_KP_7,  /**/ KC_KP_8,  /**/ KC_KP_9,  /**/KC_KP_ASTERISK, _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ KC_COLN,  /**/ KC_KP_4,  /**/ KC_KP_5,  /**/ KC_KP_6,  /**/KC_KP_MINUS,    _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ KC_COMMA, /**/ KC_KP_1,  /**/ KC_KP_2,  /**/ KC_KP_3,  /**/KC_KP_PLUS,/**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/  KC_0,    /**/   KC_0,   /**/  KC_DOT,  /**/KC_KP_ENTER,     ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [SYMBOLS] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/  KC_F1,   /**/  KC_F2,   /**/  KC_F3,   /**/  KC_F4,   /**/  KC_F5,   /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ KC_EXLM,  /**/  KC_AT,   /**/ KC_LCBR,  /**/ KC_RCBR,  /**/ KC_PERC,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ KC_HASH,  /**/ KC_UNDS,  /**/ KC_LPRN,  /**/ KC_RPRN,  /**/ KC_AMPR,  /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ KC_BSLASH,/**/ KC_SLASH, /**/KC_LBRACKET,  KC_RBRACKET,/**/ KC_TILD,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/  KC_F6,   /**/   KC_F7,  /**/  KC_F8,   /**/  KC_F9,   /**/  KC_F10,  /**/  KC_F11,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ KC_CIRC,  /**/KC_KP_PLUS,/**/KC_KP_MINUS,    KC_GRAVE, /**/ KC_SCOLON,/**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ KC_PIPE,  /**/ KC_EQUAL, /**/ KC_QUOTE, /**/ KC_COLN,  /**/ KC_DQUO,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/  KC_DLR,  /**/ KC_ASTR,  /**/  KC_LABK, /**/ KC_RABK,  /**/ KC_QUES,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [WM_MAC] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/  MG(KC_C), /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ MG(KC_U), MG(LGUI(KC_LEFT)),MG(KC_ENTER),MG(LGUI(KC_RIGHT)), MG(KC_I),/**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ MG(KC_J),    MG(KC_LEFT),  MG(KC_BSPACE),  MG(KC_RIGHT),    MG(KC_K), /*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/   KC_UP,  /**/ MG(KC_E), /**/ MG(KC_F), /**/ MG(KC_T), /**/ MG(KC_G), /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/KC_LEFT,     KC_DOWN, /**/ KC_RIGHT, /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/  MG(KC_C), /**/ _______,  /**/ _______, /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ MG(KC_U), MG(LGUI(KC_LEFT)),MG(KC_ENTER),MG(LGUI(KC_RIGHT)), MG(KC_I),/**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ MG(KC_J),    MG(KC_LEFT),  MG(KC_BSPACE),  MG(KC_RIGHT),    MG(KC_K), /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ MG(KC_D), /**/ MG(KC_E), /**/ MG(KC_F), /**/ MG(KC_T), /**/  KC_UP,   /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ KC_LEFT,  /**/  KC_DOWN, /**/KC_RIGHT,//
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [ARROWS_MAC] = LAYOUT_ergodox(
    // Left hand

    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/LGUI(KC_Q),/**/LGUI(KC_W),/**/LGUI(KC_F),/**/LGUI(KC_P),/**/LGUI(KC_G),/**/ _______,  /**/  
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ KC_LCTRL, /**/ KC_LGUI,  /**/ KC_LSHIFT,/**/ KC_LALT,  /**/LGUI(KC_D),/*===============*/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*==========================================================================================*/           /**/
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ <- TODO FROM HERE
    /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
    /*=========================================================================================================*/
        /**/       /**/           /**/           /**/           /**/           /**/
        /**/  ___, /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
        /**/       /**/           /**/           /**/           /**/           /**/
        /*=======================================================================*/
                                                                                           /*==============================*/
                                                                                           /**/           /**/           /**/
                                                                                           /**/ _______,  /**/ _______,  /**/
                                                                                           /**/           /**/           /**/
                                                                            /*=============================================*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/           /**/           /*===============*/
                                                                            /**/           /**/           /**/           /**/
                                                                            /**/ _______,  /**/ _______,  /**/ _______,  /**/
                                                                            /**/           /**/           /**/           /**/
                                                                            /*=============================================*/

    // Right hand

                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*===============*/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/           /*==========================================================================================*/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/
                /**/           /**/           /**/           /**/           /**/           /**/           /**/           /**/
                /*=========================================================================================================*/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /**/ _______,  /**/ _______,  /**/ _______,  /**/ _______,  /**/  ___, /**/
                                              /**/           /**/           /**/           /**/           /**/       /**/
                                              /*=======================================================================*/
    /*==============================*/
    /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/
    /**/           /**/           /**/
    /*=============================================*/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/           /**/           /**/
    /**/           /**/           /**/           /**/
    /*===============*/           /**/           /**/
    /**/           /**/           /**/           /**/
    /**/ _______,  /**/ _______,  /**/ _______   /**/
    /**/           /**/           /**/           /**/
    /*=============================================*/
  ),

  [ARROWS_MAC] = LAYOUT_ergodox(_______,_______,_______,_______,_______,_______,_______,_______,LGUI(KC_Q),LGUI(KC_W),LGUI(KC_F),LGUI(KC_P),LGUI(KC_G),_______,_______,KC_LCTRL,KC_LGUI,KC_LSHIFT,KC_LALT,LGUI(KC_D),_______,LGUI(KC_Z),LGUI(KC_X),LGUI(KC_C),LGUI(KC_V),LGUI(KC_B),_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,RGUI(KC_J),KC_BSPACE,KC_UP,KC_DELETE,RGUI(KC_SCOLON),_______,RGUI(KC_H),KC_LEFT,KC_DOWN,KC_RIGHT,KC_ENTER,_______,_______,RGUI(KC_K),RGUI(KC_M),RGUI(KC_COMMA),RGUI(KC_DOT),RGUI(KC_SLASH),_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______),

  [MACROS_LAYER] = LAYOUT_ergodox(_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,DYN_REC_START2,DYN_MACRO_PLAY2,DYN_REC_STOP,_______,_______,_______,DYN_REC_START1,DYN_MACRO_PLAY1,DYN_REC_STOP,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______),

  [MISC] = LAYOUT_ergodox(_______,KC_F14,KC_F15,_______,_______,_______,RESET,_______,_______,_______,KC_MS_UP,_______,_______,_______,_______,_______,KC_MS_LEFT,KC_MS_DOWN,KC_MS_RIGHT,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,RGB_MOD,HSV_0_255_255,HSV_120_255_128,KC_MS_BTN1,KC_MS_BTN2,HSV_240_255_255,_______,_______,_______,_______,_______,_______,KC_MEDIA_EJECT,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,_______,DF(DVORAK),DF(QWERTY),DF(COLEMAK),_______,_______,_______,WINDOWS_MODE,MAC_MODE,_______,RGB_TOG,RGB_SLD,RGB_VAI,RGB_VAD,RGB_HUD,RGB_HUI),
};

bool suspended = false;

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
  if (!process_record_dynamic_macro(keycode, record)) {
    return false;
  }
  switch (keycode) {
    case EPRM:
      if (record->event.pressed) {
        eeconfig_init();
      }
      return false;
      break;
    case RGB_SLD:
      if (record->event.pressed) {
        rgblight_mode(1);
      }
      return false;
      break;
    case HSV_0_255_255:
      if (record->event.pressed) {
        #ifdef RGBLIGHT_ENABLE
          rgblight_enable();
          rgblight_mode(1);
          rgblight_sethsv(0,255,255);
        #endif
      }
      return false;
      break;
    case HSV_120_255_128:
      if (record->event.pressed) {
        #ifdef RGBLIGHT_ENABLE
          rgblight_enable();
          rgblight_mode(1);
          rgblight_sethsv(120,255,128);
        #endif
      }
      return false;
      break;
    case HSV_240_255_255:
      if (record->event.pressed) {
        #ifdef RGBLIGHT_ENABLE
          rgblight_enable();
          rgblight_mode(1);
          rgblight_sethsv(240,255,255);
        #endif
      }
      return false;
      break;
    case MAC_MODE:
      if (record->event.pressed) {
        layer_on(MAC);
        layer_off(WINDOWS);
      }
      return false;
      break;
    case WINDOWS_MODE:
      if (record->event.pressed) {
        layer_on(WINDOWS);
        layer_off(MAC);
      }
      return false;
      break;
  }
  return true;
}

uint32_t layer_state_set_user(uint32_t state) {

    uint8_t layer = biton32(state);

    ergodox_board_led_off();
    ergodox_right_led_1_off();
    ergodox_right_led_2_off();
    ergodox_right_led_3_off();
    switch (layer) {
      case 1:
        ergodox_right_led_1_on();
        break;
      case 2:
        ergodox_right_led_2_on();
        break;
      case 3:
        ergodox_right_led_3_on();
        break;
      case 4:
        ergodox_right_led_1_on();
        ergodox_right_led_2_on();
        break;
      case 5:
        ergodox_right_led_1_on();
        ergodox_right_led_3_on();
        break;
      case 6:
        ergodox_right_led_2_on();
        ergodox_right_led_3_on();
        break;
      case 7:
        ergodox_right_led_1_on();
        ergodox_right_led_2_on();
        ergodox_right_led_3_on();
        break;
      default:
        break;
    }
    return state;

};

void keyboard_post_init_user(void) {

  // This layer is always on
  layer_on(COMMON);

  // Default to Mac layout
  layer_on(MAC);
}